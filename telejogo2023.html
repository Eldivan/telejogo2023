<canvas width="600" height="400"></canvas>

<script>
	var tela =document.querySelector("canvas");
	var pincel = tela.getContext("2d");

var  y = 50;
var  z = 50;
var alturaGoleiro = 190;
var posicaoGoleiro = 580;
var cima = 38;
var baixo = 40;
var tx  = 10;

var alturaGoleiroNegro = 190;
var posicaoGoleiroNegro = 10;
var w = 87;
var s = 83;
var taxa = 10;

function jogadores(){
		var tela = document.querySelector("canvas");
		var pincel = tela.getContext("2d");

		// Campo
			pincel.fillStyle = "green";
			pincel.fillRect(0, 0, 600, 400);
			pincel.fill();

			pincel.fillStyle = "white";
		    pincel.fillRect(5, 5, 2	,150);

		    pincel.fillStyle = "white";
		    pincel.fillRect(5, 250, 2,142);

		    pincel.fillStyle = "white";
		    pincel.fillRect(295, 5, 2, 387);

		    pincel.fillStyle = "white";
		    pincel.fillRect(590, 5, 2, 150); 

		    pincel.fillStyle = "white";
		    pincel.fillRect(590, 250, 2, 142);


		    pincel.fillStyle = "white";
		    pincel.fillRect(6, 390, 585, 2);

		    pincel.fillStyle = "white";
		    pincel.fillRect(6, 5, 585, 2);

			pincel.fillStyle = "white";
			pincel.arc(296, 200, 8, 0, 2 * 3.14 );
			pincel.fill();

	// Goleiro Negro

		pincel.fillStyle = "black";
		pincel.fillRect(posicaoGoleiroNegro, alturaGoleiroNegro, 6, 40);
		pincel.fill();
		
	// Jogadores negros	
		pincel.fillStyle = "black";
		pincel.fillRect(180, y, 6, 40);
		pincel.fill();

		pincel.fillStyle = "black";
		pincel.fillRect(180, y + 100, 6, 40);
		pincel.fill();

		pincel.fillStyle = "black";
		pincel.fillRect(180, y+ 200, 6, 40);
		pincel.fill();

		//Jogadores de linha brancos

			pincel.fillStyle = "white";
			pincel.fillRect(420, z, 6, 40);
			pincel.fill();

			pincel.fillStyle = "white";
			pincel.fillRect(420, z+100, 6, 40);
			pincel.fill();

			pincel.fillStyle = "white";
			pincel.fillRect(420,  z+200, 6, 40);
			pincel.fill();

		// Goleiro Branco
			pincel.fillStyle = "white";
			pincel.fillRect(posicaoGoleiro, alturaGoleiro, 6, 40);
			pincel.fill();
			

}


	function limpaTela(){
		pincel.clearRect(0,0, 600, 400);
	}

	var movimentoBranco = 1;
	var altura = 1;

	function atualizaTela(){
		limpaTela();

		if (y > 100) {
			altura = -1;
		}else if(y < 40){
			altura = 1;
		} else if (z > 100 ){
			movimentoBranco = -1;
		}else if (z < 40) {
			movimentoBranco = 1;
		}
		jogadores();

		y = y + altura;
		z = z + movimentoBranco;
	}

	setInterval(atualizaTela, 10);


	function controleGoleiro(evento) {

        if(evento.keyCode == cima && alturaGoleiro >= 20) {

            alturaGoleiro = alturaGoleiro - taxa;

        } else if (evento.keyCode == baixo && alturaGoleiro <= 340) {

            alturaGoleiro = alturaGoleiro + taxa;

        } else if (evento.keyCode == w && alturaGoleiroNegro >= 20) {

            alturaGoleiroNegro = alturaGoleiroNegro - tx;

        } else if (evento.keyCode == s && alturaGoleiroNegro <= 340) {

            alturaGoleiroNegro = alturaGoleiroNegro + tx;

        } 
    }

   document.onkeydown = controleGoleiro;


</script>